<ion-header>
  <ion-navbar>
    <bm-header></bm-header>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <div class="container">
    <form (ngSubmit)="save(user)">
      <ion-item-group>
        <ion-item-divider color="light">Informações de conta</ion-item-divider>
        <ion-item>
          <ion-thumbnail item-left>
            <img src="{{user.avatar}}" id='user_avatar' [hidden]="user.avatar === null">
          </ion-thumbnail>
          <button ion-button icon-left (click)="save_avatar(user)" [disabled]="user.avatar === null">
            <ion-icon name="cloud-upload"></ion-icon>Salvar Imagem
          </button>
        </ion-item>
        <ion-item>
          <ion-label floating>Nome</ion-label>
          <ion-input type="text" [(ngModel)]="user.first_name" name="first_name"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Sobrenome</ion-label>
          <ion-input type="text" [(ngModel)]="user.last_name" name="last_name"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Data de nascimento</ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="user.birthday" name="birthday"></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label floating>Email</ion-label>
          <ion-input type="text" [(ngModel)]="user.email" name="email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Senha</ion-label>
          <ion-input type="password" [(ngModel)]="user.current_password" name="current_password"></ion-input>
        </ion-item>
        <br>
        <ion-item-divider color="light">Informações pessoais</ion-item-divider>
        <ion-list radio-group [(ngModel)]="user.sex" name="sex">
          <ion-list-header>
            Sexo
          </ion-list-header>
          <ion-item>
            <ion-label>Masculino</ion-label>
            <ion-radio value="M"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Feminino</ion-label>
            <ion-radio value="F"></ion-radio>
          </ion-item>
        </ion-list>
        <ion-item>
          <ion-label floating>Data de nascimento</ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY" [(ngModel)]="user.birthday" name="birthday"></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label floating>Celular</ion-label>
          <ion-input type="text" [(ngModel)]="user.cellphone" name="cellphone"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Sobre mim</ion-label>
          <ion-textarea [(ngModel)]="user.about" name="about"></ion-textarea>
        </ion-item>
        <ion-item>
          <ion-label floating>Trabalho e educação</ion-label>
          <ion-textarea [(ngModel)]="user.academic_profile" name="academic_profile"></ion-textarea>
        </ion-item>
        <br>
        <ion-item-divider color="light">Outras informações</ion-item-divider>
        <ion-item>
          <ion-label>Trabalha com náutica</ion-label>
          <ion-toggle [(ngModel)]="user.nautical_professional" name="nautical_professional" (ionChange)="hideNautical()" ></ion-toggle>
        </ion-item>
        <ion-item id="nautical_profession_description" [hidden]="showNauticalWorkText == false">
          <ion-label floating>Descreva seu trabalho:</ion-label>
          <ion-textarea [(ngModel)]="user.nautical_profession_description" name="nautical_profession_description"></ion-textarea>
        </ion-item>
        <ion-list radio-group [(ngModel)]="user.relationship" name="relationship">
          <ion-list-header>
            Relacionamento
          </ion-list-header>
          <ion-item>
            <ion-label>Casado</ion-label>
            <ion-radio value="married"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Namorando</ion-label>
            <ion-radio value="serious_relationship"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Solteiro</ion-label>
            <ion-radio value="single"></ion-radio>
          </ion-item>
        </ion-list>
        <ion-item>
          <ion-label>Possui embarcação?</ion-label>
          <ion-toggle [(ngModel)]="user.has_embarcation" name="has_embarcation"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label floating>Integrante da Marinha do Brasil</ion-label>
          <ion-input type="text" [(ngModel)]="user.naval_service" name="naval_service"></ion-input>
        </ion-item>
      </ion-item-group>
      <button class="form-buttons" ion-button type="submit" block>Salvar</button>
    </form>
  </div>
</ion-content>
<ion-footer>
  <ion-toolbar color="primary">
    <ion-buttons>
      <button ion-button icon-left (click)="presentActionSheet()">
        <ion-icon name="camera"></ion-icon>Selecione uma imagem
      </button>
      <button ion-button icon-left [disabled]="lastImage === null">
        <ion-icon name="cloud-upload"></ion-icon>Upload
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
